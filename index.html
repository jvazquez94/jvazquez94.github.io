<!DOCTYPE html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.1.0/dist/aframe-physics-system.js"></script>
        <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>
        <script src="https://unpkg.com/aframe-event-set-component@^4.1.1/dist/aframe-event-set-component.min.js"></script>
        <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
        <script src="movement.js"></script>
        <script src="camrender.js"></script>
    </head>
    <body>
        <a-scene>
            
            <a-assets>
            <!--canvas de la 2ª camara-->
              <canvas id="cam2"></canvas>
              <canvas id="cam3"></canvas>
              <canvas id="cam4"></canvas>
            </a-assets>
          
            <a-entity camera="active: false" camrender="cid: cam2" position="0 3 -1" rotation="0 0 0"></a-entity>

            <a-entity position="1.5 0 3" wasd-controls>
              <a-entity position="0 0.5 2" id="cam1" camera look-controls>                
                <a-entity geometry="primitive: cylinder; radius: 0.5; height: 0.4; openEnded: true; thetaStart: 135; thetaLength: 50"
                          position="0.5 -0.75 -1" material="src: #cam2;opacity: .8; side: back"
                          canvas-updater></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.5; height: 0.4; openEnded: true; thetaStart: 135; thetaLength: 50"
                          position="0 -0.75 -1" material="src: #cam3;opacity: .8; side: back"
                          canvas-updater></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.5; height: 0.4; openEnded: true; thetaStart: 135; thetaLength: 50"
                          position="-0.5 -0.75 -1" material="src: #cam4;opacity: .8; side: back"
                          canvas-updater></a-entity>
              </a-entity>              
            </a-entity>
            

            <!--Luz
            <a-entity light="type: directional; castShadow: true" position="1 1 1"></a-entity>-->
            <a-entity light="type: ambient"></a-entity>

            <!--Plano del suelo-->
            <a-box color="grey"  position="0 -1 -1" depth="100" width="100" height="0.25" shadow="receive: true"></a-box>

            <!--Dron 1-->
            <a-box id="dron1" color="red" position="0 -0.5 -2" scale="0.5 0.5 0.5" shadow="receive: true"
                   animation="property: position; dir: alternate; to: 2 10 -7;dur: 9000; easing: linear; loop: true">
          
               <a-entity camera="active: false" camrender="cid: cam2" position="0 0 0" rotation="0 0 0"></a-entity> 
            </a-box>
          
            <!--Dron 2-->
            <a-box id="dron2" position="2 0 -1" shadow="receive: true" scale="0.25 0.25 0.25" color="blue"
                   animation="property: position; dir: alternate; to: 2 8 -9; dur: 7000; easing: linear; loop: true">
              <a-entity camera="active: false" camrender="cid: cam3" position="0 0 0" rotation="0 90 0"></a-entity>
            </a-box>
          
            <!--Dron 3-->
            <a-box id="dron3" position="-2 0 -1" shadow="receive: true" scale="0.25 0.25 0.25" color="green"
                   animation="property: position; dir: alternate; to: -2 10 -10; dur: 8000; easing: linear; loop: true">
              <a-entity camera="active: false" camrender="cid: cam4" position="0 0 0" rotation="-20 190 0"></a-entity>
            </a-box>
          
            <a-cone position="0 0.25 7" scale="4 4 4" color="yellow"></a-cone>
            <a-cone position="0 0.25 -20" scale="4 4 4" color="white"></a-cone>
            <a-cone position="20 0.25 0" scale="4 4 4" color="blue"></a-cone>
            <a-cone position="-20 0.25 0" scale="4 4 4" color="green"></a-cone>
          
            
        </a-scene>
    </body>
</html>